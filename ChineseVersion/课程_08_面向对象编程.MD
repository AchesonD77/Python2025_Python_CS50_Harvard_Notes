# Lecture 8 â€” é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆREADMEï¼Œä¸­æ–‡ï¼‰

> æ•´ç†çš„**ç¬¬ 8 è®²**è¦ç‚¹ï¼›åŒ…å« *æ–œä½“*ã€**åŠ ç²—** ä¸ <mark>é«˜äº®</mark> å¼ºè°ƒã€‚

## ç›®å½•
- [é¢å‘å¯¹è±¡ç¼–ç¨‹ç®€ä»‹](#é¢å‘å¯¹è±¡ç¼–ç¨‹ç®€ä»‹)
- [ç±»ï¼ˆClassesï¼‰](#ç±»classes)
- [`raise` ä¸å¼‚å¸¸](#raise-ä¸å¼‚å¸¸)
- [è£…é¥°å™¨ / å±æ€§ï¼ˆ@propertyï¼‰](#è£…é¥°å™¨--å±æ€§property)
- [ä¸ä»¥å¾€å†…å®¹çš„è¿æ¥](#ä¸ä»¥å¾€å†…å®¹çš„è¿æ¥)
- [ç±»æ–¹æ³•](#ç±»æ–¹æ³•)
- [é™æ€æ–¹æ³•](#é™æ€æ–¹æ³•)
- [ç»§æ‰¿](#ç»§æ‰¿)
- [ç»§æ‰¿ä¸å¼‚å¸¸å±‚çº§](#ç»§æ‰¿ä¸å¼‚å¸¸å±‚çº§)
- [è¿ç®—ç¬¦é‡è½½](#è¿ç®—ç¬¦é‡è½½)
- [æ€»ç»“](#æ€»ç»“)

---

## é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ç®€ä»‹
- ä¹‹å‰å¤šä¸º**è¿‡ç¨‹å¼**å†™æ³•ï¼›OOP å°†**æ•°æ®+è¡Œä¸º**å°è£…åœ¨ä¸€èµ·ï¼Œæ›´æ˜“ç»´æŠ¤å¹¶å¯â€œé˜²å¾¡å¼ç¼–ç¨‹â€ã€‚
- ä»è¿‡ç¨‹å¼ â†’ å‡½æ•°æŠ½è±¡ â†’ å­—å…¸ â†’ **ç±»** é€æ­¥æ¼”è¿›ã€‚

### è¿‡ç¨‹å¼èµ·ç‚¹
```py
name = input("Name: ")
house = input("House: ")
print(f"{name} from {house}")
```
- è¯·æ³¨æ„ï¼Œè¯¥ç¨‹åºéµå¾ªç¨‹åºåŒ–çš„ã€é€æ­¥çš„èŒƒä¾‹ï¼šå°±åƒæ‚¨åœ¨æœ¬è¯¾ç¨‹çš„å‰å‡ éƒ¨åˆ†çœ‹åˆ°çš„é‚£æ ·ã€‚

### æŠ½è±¡è¾“å…¥è¾“å‡º
```py
def main():
    name = get_name()
    house = get_house()
    print(f"{name} from {house}")

def get_name():  
    return input("Name: ")

def get_house(): 
    return input("House: ")

if __name__ == "__main__":
    main()
```
- æ³¨æ„ get_name å’Œ get_house å¦‚ä½•æŠ½è±¡å‡º main å‡½æ•°çš„ä¸€äº›éœ€æ±‚ã€‚æ­¤å¤–ï¼Œè¯·æ³¨æ„ä¸Šé¢ä»£ç çš„æœ€åå‡ è¡Œæ˜¯å¦‚ä½•å‘Šè¯‰è§£é‡Šå™¨è¿è¡Œ main å‡½æ•°çš„ã€‚


### å¤šè¿”å›å€¼ï¼ˆtupleï¼‰

- æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ç¨‹åºï¼Œå°†å­¦ç”Ÿå­˜å‚¨ä¸º tuple tuple æ˜¯å€¼çš„åºåˆ—ã€‚ä¸ list ä¸åŒï¼Œ tuple ä¸èƒ½è¢«ä¿®æ”¹ã€‚æœ¬è´¨ä¸Šï¼Œæˆ‘ä»¬è¿”å›ä¸¤ä¸ªå€¼ã€‚

```python
def main():
    name, house = get_student()
    print(f"{name} from {house}")


def get_student():
    name = input("Name: ")
    house = input("House: ")
    return name, house


if __name__ == "__main__":
    main()
```

- æ³¨æ„ get_student å¦‚ä½•è¿”å› name, house ã€‚


- æ‰“åŒ…è¯¥ tuple ï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½å¤Ÿå°†ä¸¤ä¸ªé¡¹ç›®è¿”å›ç»™åä¸º student å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼ä¿®æ”¹ä»£ç ã€‚

```python
def main():
    student = get_student()
    print(f"{student[0]} from {student[1]}")


def get_student():
    name = input("Name: ")
    house = input("House: ")
    return (name, house)


if __name__ == "__main__":
    main()
```
- æ³¨æ„ï¼Œ (name, house) æ˜ç¡®åœ°å‘Šè¯‰ä»»ä½•é˜…è¯»æˆ‘ä»¬ä»£ç çš„äººï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªå€¼ä¸­è¿”å›ä¸¤ä¸ªå€¼ã€‚æ­¤å¤–ï¼Œè¯·æ³¨æ„æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ student[0] æˆ– student[1] æ¥ç´¢å¼• tuple ã€‚


- tuple æ˜¯ä¸å¯å˜çš„ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æ— æ³•æ›´æ”¹å®ƒä»¬çš„å€¼ã€‚ä¸å˜æ€§æ˜¯æˆ‘ä»¬è¿›è¡Œé˜²å¾¡æ€§ç¼–ç¨‹çš„ä¸€ç§æ–¹å¼ã€‚
```python
def main():
    student = get_student()
    if student[0] == "Padma":
        student[1] = "Ravenclaw"
    print(f"{student[0]} from {student[1]}")


def get_student():
    name = input("Name: ")
    house = input("House: ")
    return name, house


if __name__ == "__main__":
    main()
```
- æ³¨æ„ï¼Œè¿™æ®µä»£ç ä¼šäº§ç”Ÿé”™è¯¯ã€‚ç”±äº tuple æ˜¯ä¸å¯å˜çš„ï¼Œæˆ‘ä»¬æ— æ³•é‡æ–°èµ‹å€¼ student[1] çš„å€¼ã€‚




### åˆ—è¡¨ï¼ˆæä¾›çµæ´»æ€§ï¼‰/å­—å…¸ç‰ˆæœ¬
```py
def get_student():  # åˆ—è¡¨ï¼Œå¯å˜
    return [input("Name: "), input("House: ")]

def get_student():  # å­—å…¸ï¼Œè¯­ä¹‰æ›´æ¸…æ™°
    return {"name": input("Name: "), "house": input("House: ")}
```

- list
```python

def main():
    student = get_student()
    if student[0] == "Padma":
        student[1] = "Ravenclaw"
    print(f"{student[0]} from {student[1]}")


def get_student():
    name = input("Name: ")
    house = input("House: ")
    return [name, house]


if __name__ == "__main__":
    main()
```
- è¯·æ³¨æ„ï¼Œåˆ—è¡¨æ˜¯å¯å˜çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¨‹åºå‘˜å¯ä»¥è°ƒæ•´ house å’Œ name çš„é¡ºåºã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½ä¼šé€‰æ‹©ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œä»¥ç‰ºç‰²ä»£ç å®‰å…¨æ€§ä¸ºä»£ä»·æ¥æä¾›æ›´å¤§çš„çµæ´»æ€§ã€‚æ¯•ç«Ÿï¼Œå¦‚æœè¿™äº›å€¼çš„é¡ºåºå¯ä»¥æ›´æ”¹ï¼Œä¸æ‚¨åˆä½œçš„ç¨‹åºå‘˜ä»¥åå¯èƒ½ä¼šçŠ¯é”™è¯¯ã€‚


- åœ¨æ­¤å®ç°ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨å­—å…¸ã€‚å›æƒ³ä¸€ä¸‹ï¼Œå­—å…¸æä¾›çš„æ˜¯é”®å€¼å¯¹ã€‚
```python
def main():
    student = get_student()
    print(f"{student['name']} from {student['house']}")


def get_student():
    student = {}
    student["name"] = input("Name: ")
    student["house"] = input("House: ")
    return student


if __name__ == "__main__":
    main()
```
- æ³¨æ„ï¼Œæœ¬ä¾‹ä¸­è¿”å›äº†ä¸¤ä¸ªé”®å€¼å¯¹ã€‚è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹åœ¨äºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é”®å€¼å¯¹æ¥ç´¢å¼•è¿™ä¸ªå­—å…¸ã€‚


- ä¸è¿‡ï¼Œæˆ‘ä»¬çš„ä»£ç è¿˜å¯ä»¥è¿›ä¸€æ­¥æ”¹è¿›ã€‚æ³¨æ„ï¼Œæœ‰ä¸€ä¸ªä¸éœ€è¦çš„å˜é‡ã€‚æˆ‘ä»¬å¯ä»¥åˆ é™¤ student = {} å› ä¸ºæˆ‘ä»¬ä¸éœ€è¦åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ã€‚

```python
def main():
    student = get_student()
    print(f"{student['name']} from {student['house']}")


def get_student():
    name = input("Name: ")
    house = input("House: ")
    return {"name": name, "house": house}


if __name__ == "__main__":
    main()
```

- è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ return è¯­å¥ä¸­ä½¿ç”¨ {} æ‹¬å·æ¥åˆ›å»ºå­—å…¸å¹¶åœ¨åŒä¸€è¡Œä¸­è¿”å›æ‰€æœ‰å†…å®¹ã€‚


- æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„ä»£ç çš„å­—å…¸ç‰ˆæœ¬ä¸­ä½¿ç”¨ Padma æ¥æä¾›ç‰¹æ®Šæƒ…å†µã€‚ï¼ˆå¯ä»¥åæœŸä¿®æ”¹ï¼‰
```py
def main():
    student = get_student()
    if student["name"] == "Padma":
        student["house"] = "Ravenclaw"
    print(f"{student['name']} from {student['house']}")


def get_student():
    name = input("Name: ")
    house = input("House: ")
    return {"name": name, "house": house}


if __name__ == "__main__":
    main()
```


<mark>ä¸ºä»€ä¹ˆç”¨ç±»ï¼Ÿ</mark> è‡ªå®šä¹‰**ç±»å‹**ï¼Œé›†ä¸­**æ ¡éªŒ**ä¸**æ–¹æ³•**ï¼Œæ›´å®‰å…¨å¯è¯»ã€‚

---

## ç±»ï¼ˆClassesï¼‰

- åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œç±»æ˜¯ä¸€ç§åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„æ•°æ®ç±»å‹å¹¶ä¸ºå…¶å‘½åçš„æ–¹å¼ã€‚ç±»å°±åƒæ˜¯æŸç§æ•°æ®ç±»å‹çš„æ¨¡å‹â€”â€”æˆ‘ä»¬å¯ä»¥å‘æ˜è‡ªå·±çš„æ•°æ®ç±»å‹å¹¶ç»™å®ƒä»¬å‘½åã€‚
```py
class Student:
    ...
```
- æˆ‘ä»¬å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼ä¿®æ”¹ä»£ç æ¥å®ç°æˆ‘ä»¬è‡ªå·±çš„åä¸º Student ç±»ï¼š
```python
class Student:
    ...


def main():
    student = get_student()
    print(f"{student.name} from {student.house}")


def get_student():
    student = Student()
    student.name = input("Name: ")
    student.house = input("House: ")
    return student


if __name__ == "__main__":
    main()
```
- æ³¨æ„ï¼ŒæŒ‰ç…§æƒ¯ä¾‹ï¼Œ Student é¦–å­—æ¯è¦å¤§å†™ã€‚å¦å¤–ï¼Œæ³¨æ„ ... ä»…ä»…è¡¨ç¤ºæˆ‘ä»¬ç¨åä¼šè¿”å›å®Œæˆè¿™éƒ¨åˆ†ä»£ç ã€‚æ­¤å¤–ï¼Œæ³¨æ„åœ¨ get_student ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯­æ³• student = Student() åˆ›å»ºä¸€ä¸ª Student ç±»çš„ student ã€‚æ­¤å¤–ï¼Œæ³¨æ„æˆ‘ä»¬ä½¿ç”¨â€œç‚¹ç¬¦å·â€æ¥è®¿é—® Student ç±»çš„å˜é‡ student çš„å±æ€§ã€‚

- ä»»ä½•æ—¶å€™ï¼Œå½“ä½ åˆ›å»ºä¸€ä¸ªç±»å¹¶åˆ©ç”¨è¯¥è“å›¾æ¥åˆ›å»ºæŸäº›ä¸œè¥¿æ—¶ï¼Œä½ éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ‰€è°“çš„â€œå¯¹è±¡â€æˆ–â€œå®ä¾‹â€ã€‚åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œ student å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚


- è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥ä¸º Student ç±»å¯¹è±¡ä¸­é¢„æœŸçš„å±æ€§å¥ å®šä¸€äº›åŸºç¡€ã€‚æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š
```python
class Student:
    def __init__(self, name, house):
        self.name = name
        self.house = house


def main():
    student = get_student()
    print(f"{student.name} from {student.house}")


def get_student():
    name = input("Name: ")
    house = input("House: ")
    student = Student(name, house)
    return student


if __name__ == "__main__":
    main()
```
- è¯·æ³¨æ„ï¼Œåœ¨ Student ä¸­ï¼Œæˆ‘ä»¬æ ‡å‡†åŒ–äº†è¯¥ç±»çš„å±æ€§ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ class Student ä¸­åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç§°ä¸ºâ€œæ–¹æ³•â€ï¼Œå®ƒå†³å®š Student ç±»å¯¹è±¡çš„è¡Œä¸ºã€‚åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œå®ƒæ¥æ”¶ä¼ é€’ç»™å®ƒçš„ name å’Œ house å˜é‡ï¼Œå¹¶å°†è¿™äº›å˜é‡èµ‹å€¼ç»™ Student ç±»ã€‚æ­¤å¤–ï¼Œè¯·æ³¨æ„æ„é€ å‡½æ•° student = Student(name, house) å¦‚ä½•åœ¨ Student ç±»ä¸­è°ƒç”¨æ­¤å‡½æ•°å¹¶åˆ›å»ºä¸€ä¸ª student ã€‚ self æŒ‡çš„æ˜¯åˆšåˆšåˆ›å»ºçš„å½“å‰å¯¹è±¡ã€‚


- æˆ‘ä»¬å¯ä»¥ç®€åŒ–ä»£ç å¦‚ä¸‹ï¼š
```python
class Student:
    def __init__(self, name, house):
        self.name = name
        self.house = house


def main():
    student = get_student()
    print(f"{student.name} from {student.house}")


def get_student():
    name = input("Name: ")
    house = input("House: ")
    return Student(name, house) # changed here


if __name__ == "__main__":
    main()
```
- è¯·æ³¨æ„ return Student(name, house) å¦‚ä½•ç®€åŒ–ä»£ç çš„ä¸Šä¸€æ¬¡è¿­ä»£ï¼Œå…¶ä¸­æ„é€ å‡½æ•°è¯­å¥åœ¨å…¶è‡ªå·±çš„è¡Œä¸Šè¿è¡Œã€‚


- é¦–å…ˆç”¨å±æ€§ä¿å­˜æ•°æ®ï¼Œç„¶ååŠ å…¥æ„é€ å™¨ `__init__` ä¸æ˜“è¯»è¾“å‡º `__str__`ï¼š
```py
class Student:
    def __init__(self, name, house):
        self.name, self.house = name, house
    def __str__(self):
        return f"{self.name} from {self.house}"
```

- æ‚¨å¯ä»¥åœ¨ Python çš„ç±»æ–‡æ¡£ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚https://docs.python.org/3/tutorial/classes.html

---

## `raise` ä¸å¼‚å¸¸
- é¢å‘å¯¹è±¡ç¼–ç¨‹é¼“åŠ±æ‚¨å°†ç±»çš„æ‰€æœ‰åŠŸèƒ½å°è£…åœ¨ç±»å®šä¹‰ä¸­ã€‚å¦‚æœå‡ºç°é—®é¢˜æ€ä¹ˆåŠï¼Ÿå¦‚æœæœ‰äººå°è¯•è¾“å…¥éšæœºå†…å®¹æ€ä¹ˆåŠï¼Ÿå¦‚æœæœ‰äººå°è¯•åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å§“åçš„å­¦ç”Ÿæ€ä¹ˆåŠï¼Ÿè¯·æŒ‰å¦‚ä¸‹æ–¹å¼ä¿®æ”¹ä»£ç ï¼š
  
- åœ¨ç±»å†…éƒ¨é›†ä¸­**æ ¡éªŒ**å¹¶åœ¨éæ³•æ—¶ **raise**ï¼š
```py
class Student:
    def __init__(self, name, house):
        if not name:
            raise ValueError("Missing name")
        if house not in ["Gryffindor","Hufflepuff","Ravenclaw","Slytherin"]:
            raise ValueError("Invalid house")
        self.name, self.house = name, house
```
- æ³¨æ„æˆ‘ä»¬ç°åœ¨å¦‚ä½•æ£€æŸ¥æ˜¯å¦æä¾›äº†åç§°ä»¥åŠæ˜¯å¦æŒ‡å®šäº†æ­£ç¡®çš„æˆ¿å±‹ã€‚äº‹å®è¯æ˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„å¼‚å¸¸ï¼Œé€šè¿‡ raise æ¥æé†’ç¨‹åºå‘˜ç”¨æˆ·å¯èƒ½é€ æˆçš„é”™è¯¯ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠ›å‡ºäº† ValueError å¹¶é™„å¸¦äº†ç‰¹å®šçš„é”™è¯¯æ¶ˆæ¯ã€‚
  


- ç¢°å·§çš„æ˜¯ï¼ŒPython å…è®¸ä½ åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„å‡½æ•°ï¼Œé€šè¿‡è¯¥å‡½æ•°ä½ å¯ä»¥æ‰“å°å¯¹è±¡çš„å±æ€§ã€‚ä¿®æ”¹ä½ çš„ä»£ç å¦‚ä¸‹ï¼š
```python
class Student:
    def __init__(self, name, house, patronus):
        if not name:
            raise ValueError("Missing name")
        if house not in ["Gryffindor", "Hufflepuff", "Ravenclaw", "Slytherin"]:
            raise ValueError("Invalid house")
        self.name = name
        self.house = house
        self.patronus = patronus

    def __str__(self): # ç‰¹å®šçš„å‡½æ•°
        return f"{self.name} from {self.house}"


def main():
    student = get_student()
    print(student)


def get_student():
    name = input("Name: ")
    house = input("House: ")
    patronus = input("Patronus: ")
    return Student(name, house, patronus)


if __name__ == "__main__":
    main()
```
- æ³¨æ„ `def __str__(self)` æ˜¯å¦‚ä½•åœ¨è°ƒç”¨æ—¶è¿”å›ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯çš„ã€‚å› æ­¤ï¼Œç°åœ¨ä½œä¸ºç¨‹åºå‘˜ï¼Œä½ å¯ä»¥æ‰“å°ä¸€ä¸ªå¯¹è±¡ã€å®ƒçš„å±æ€§ï¼Œæˆ–è€…å‡ ä¹ä»»ä½•ä½ æƒ³è¦çš„ä¸è¯¥å¯¹è±¡ç›¸å…³çš„å†…å®¹ã€‚


- `__str__` æ˜¯ Python ç±»è‡ªå¸¦çš„å†…ç½®æ–¹æ³•ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºç±»åˆ›å»ºè‡ªå·±çš„æ–¹æ³•ï¼ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š
- å¯æ‰©å±•è¡Œä¸ºï¼š
```py
class Student:
    def __init__(self, name, house, patronus=None):
        ...
    def charm(self):
        match self.patronus:
            case "Stag": return "ğŸ¦Œ"
            case "Otter": return "ğŸ¦¦"
            case "Jack Russell terrier": return "ğŸ•"
            case _: return "âœ¨"
```
- æ³¨æ„æˆ‘ä»¬å¦‚ä½•å®šä¹‰è‡ªå·±çš„æ–¹æ³• charm ã€‚ä¸å­—å…¸ä¸åŒï¼Œç±»å¯ä»¥æ‹¥æœ‰å†…ç½®å‡½æ•°ï¼Œç§°ä¸ºæ–¹æ³•ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº† charm æ–¹æ³•ï¼Œç‰¹å®šæƒ…å†µä¼šäº§ç”Ÿç‰¹å®šç»“æœã€‚æ­¤å¤–ï¼Œè¯·æ³¨æ„ï¼ŒPython èƒ½å¤Ÿç›´æ¥åœ¨ä»£ç ä¸­ä½¿ç”¨è¡¨æƒ…ç¬¦å·ã€‚

- è¯·æ³¨æ„æˆ‘ä»¬åªæœ‰ä¸¤ç§æ–¹æ³•ï¼š __init__ å’Œ __str__ ã€‚
---

## è£…é¥°å™¨ / å±æ€§ï¼ˆ`@property`ï¼‰
- é€šè¿‡ **`@property`** + ç§æœ‰å­—æ®µå¦‚ `_house`ï¼Œå®ç°â€œç‚¹è¯­æ³•è®¿é—®ã€èµ‹å€¼å³æ ¡éªŒâ€ã€‚
- å±æ€§å¯ä»¥ç”¨æ¥å¼ºåŒ–æˆ‘ä»¬çš„ä»£ç ã€‚åœ¨ Python ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ @ å¼€å¤´çš„å‡½æ•°â€œè£…é¥°å™¨â€æ¥å®šä¹‰å±æ€§ã€‚

```py
class Student:
    def __init__(self, name, house):
        self.name = name
        self.house = house

    def __str__(self):
        return f"{self.name} from {self.house}"

    # Getter for name
    @property
    def name(self):
        return self._name

    # Setter for name
    @name.setter
    def name(self, name):
        if not name:
            raise ValueError("Invalid name")
        self._name = name

    @property
    def house(self):
        return self._house

    @house.setter
    def house(self, house):
        if house not in ["Gryffindor", "Hufflepuff", "Ravenclaw", "Slytherin"]:
            raise ValueError("Invalid house")
        self._house = house


def main():
    student = get_student()
    print(student)


def get_student():
    name = input("Name: ")
    house = input("House: ")
    return Student(name, house)


if __name__ == "__main__":
    main()
```
- æ³¨æ„æˆ‘ä»¬åœ¨åä¸º house å‡½æ•°ä¸Šæ–¹ç¼–å†™äº† @property ã€‚è¿™æ ·åšå°† house å®šä¹‰ä¸ºæˆ‘ä»¬ç±»çš„ä¸€ä¸ªå±æ€§ã€‚æœ‰äº† house ä½œä¸ºå±æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®šä¹‰å¦‚ä½•è®¾ç½®å’Œæ£€ç´¢ç±»çš„æŸäº›å±æ€§ _house ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥é€šè¿‡ @house.setter å®šä¹‰ä¸€ä¸ªåä¸ºâ€œsetterâ€çš„å‡½æ•°ï¼Œæ¯å½“è®¾ç½® house å±æ€§æ—¶éƒ½ä¼šè°ƒç”¨è¯¥å‡½æ•° - ä¾‹å¦‚ï¼Œè®¾ç½® student.house = "Gryffindor" ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è®© setter ä¸ºæˆ‘ä»¬éªŒè¯ house çš„å€¼ã€‚æ³¨æ„ï¼Œå¦‚æœ house çš„å€¼ä¸æ˜¯ä»»ä½•å“ˆåˆ©æ³¢ç‰¹æˆ¿å±‹ï¼Œæˆ‘ä»¬ä¼šå¼•å‘ ValueError å¦åˆ™ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ house æ¥æ›´æ–° _house çš„å€¼ã€‚ä¸ºä»€ä¹ˆæ˜¯ _house è€Œä¸æ˜¯ house ï¼Ÿ house æ˜¯æˆ‘ä»¬ç±»çš„ä¸€ä¸ªå±æ€§ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å®ƒå°è¯•è®¾ç½®æˆ‘ä»¬çš„ç±»å±æ€§ã€‚ _house å°±æ˜¯è¯¥ç±»å±æ€§æœ¬èº«ã€‚å‰å¯¼ä¸‹åˆ’çº¿ _ å‘ç”¨æˆ·æŒ‡ç¤ºä»–ä»¬ä¸éœ€è¦ï¼ˆäº‹å®ä¸Šï¼Œä¹Ÿä¸åº”è¯¥ï¼ï¼‰ç›´æ¥ä¿®æ”¹æ­¤å€¼ã€‚ _house åªèƒ½é€šè¿‡ house setter æ¥è®¾ç½®ã€‚è¯·æ³¨æ„ï¼Œ house å±æ€§åªæ˜¯è¿”å› _house çš„å€¼ï¼Œè€Œ _house æ˜¯æˆ‘ä»¬ç±»çš„å±æ€§ï¼Œå®ƒå¤§æ¦‚å·²ç»é€šè¿‡ house setter è¿›è¡Œäº†éªŒè¯ã€‚å½“ç”¨æˆ·è°ƒç”¨ student.house æ—¶ï¼Œä»–ä»¬é€šè¿‡ house çš„ getter è·å– _house çš„å€¼ã€‚

> è¿™æ®µæ–‡å­—ä¸»è¦ä»‹ç»äº†åœ¨ Python ä¸­å¦‚ä½•åˆ©ç”¨ @property è£…é¥°å™¨å®šä¹‰ç±»å±æ€§ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ getter å’Œ setter æ–¹æ³•å®ç°æ•°æ®å°è£…å’Œè¾“å…¥æ ¡éªŒã€‚ 
> 1. å®šä¹‰å±æ€§ (@property)ï¼š åœ¨ä¸€ä¸ªå‡½æ•°ï¼ˆä¾‹å¦‚ houseï¼‰ä¸Šæ–¹ä½¿ç”¨ @propertyï¼Œå¯ä»¥å°†è¯¥å‡½æ•°è½¬æ¢ä¸ºç±»çš„å±æ€§ã€‚å½“ç”¨æˆ·è®¿é—®è¿™ä¸ªå±æ€§æ—¶ï¼ˆä¾‹å¦‚ student.houseï¼‰ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº†è¿™ä¸ªå±æ€§çš„ getter å‡½æ•°ã€‚
> 2. è®¾ç½®å™¨ï¼ˆSetterï¼Œ@house.setterï¼‰ï¼š é€šè¿‡ @å±æ€§å.setter è£…é¥°å™¨æ¥å®šä¹‰è®¾ç½®å™¨å‡½æ•°ã€‚å½“ç”¨æˆ·å°è¯•ç»™è¿™ä¸ªå±æ€§èµ‹å€¼æ—¶ï¼ˆä¾‹å¦‚ student.house = "Gryffindor"ï¼‰ï¼Œè®¾ç½®å™¨ä¼šè‡ªåŠ¨è¢«è°ƒç”¨ã€‚
> 3. å°è£…ä¸æ ¡éªŒï¼š è®¾ç½®å™¨çš„ä¸»è¦èŒè´£æ˜¯éªŒè¯è¾“å…¥å€¼ã€‚æ–‡ä¸­çš„ä¾‹å­å±•ç¤ºäº†è®¾ç½®å™¨å¦‚ä½•æ£€æŸ¥èµ‹ç»™å±æ€§çš„å€¼æ˜¯å¦ç¬¦åˆé¢„è®¾çš„æ¡ä»¶ï¼ˆä¾‹å¦‚æ˜¯å¦ä¸ºæœ‰æ•ˆçš„éœæ ¼æ²ƒèŒ¨å­¦é™¢ï¼‰ï¼Œå¦‚æœä¸ç¬¦åˆåˆ™æŠ›å‡º ValueErrorã€‚
> 4. å†…éƒ¨å±æ€§ (_house)ï¼š å±æ€§é€šè¿‡ä¸€ä¸ªå¸¦æœ‰å‰å¯¼ä¸‹åˆ’çº¿ï¼ˆä¾‹å¦‚ _houseï¼‰çš„å†…éƒ¨ç±»å±æ€§æ¥å­˜å‚¨å®é™…çš„æ•°æ®ã€‚è¿™ä¸ªä¸‹åˆ’çº¿è¡¨æ˜è¯¥å±æ€§æ˜¯å—ä¿æŠ¤çš„ï¼Œç”¨æˆ·ä¸åº”ç›´æ¥ä¿®æ”¹å®ƒï¼Œè€Œåº”è¯¥å§‹ç»ˆé€šè¿‡å®šä¹‰å¥½çš„ setter æ–¹æ³•è¿›è¡Œè®¾ç½®ã€‚

<mark>ç»éªŒï¼š</mark> åªåœ¨**æ„é€ å™¨/Setter**æ ¡éªŒä¸€æ¬¡ï¼Œå…¶ä»–åœ°æ–¹é‡ç”¨å³å¯ã€‚
- æ‚¨å¯ä»¥åœ¨ Python çš„æ–¹æ³•æ–‡æ¡£ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚ https://docs.python.org/3/tutorial/classes.html

---

## ä¸ä»¥å¾€å†…å®¹çš„è¿æ¥
ä½ æ—©å·²åœ¨ä½¿ç”¨ç±»ï¼š`int`ã€`str`ã€`list`ã€`dict`ï¼š
```py
print(type(50)), print(type("hi")), print(type([1])), print(type({"a":1}))
```

- å¦‚æœä½ æ·±å…¥ç ”ç©¶ int çš„æ–‡æ¡£ï¼Œä½ ä¼šå‘ç°å®ƒæ˜¯ä¸€ä¸ªå¸¦æœ‰æ„é€ å‡½æ•°çš„ç±»ã€‚å®ƒæ˜¯åˆ›å»º int ç±»å‹å¯¹è±¡çš„è“å›¾ã€‚ä½ å¯ä»¥åœ¨ Python çš„ int æ–‡æ¡£ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚ https://docs.python.org/3/library/functions.html#int

- å­—ç¬¦ä¸²ä¹Ÿæ˜¯ä¸€ä¸ªç±»ã€‚å¦‚æœä½ ä½¿ç”¨è¿‡ str.lower() ï¼Œé‚£ä¹ˆä½ ä½¿ç”¨çš„å°±æ˜¯ str ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚ä½ å¯ä»¥åœ¨ Python çš„ str æ–‡æ¡£ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚ https://docs.python.org/3/library/stdtypes.html#str

- list ä¹Ÿæ˜¯ä¸€ä¸ªç±»ã€‚æŸ¥çœ‹ list çš„æ–‡æ¡£ï¼Œä½ å¯ä»¥çœ‹åˆ°å…¶ä¸­åŒ…å«çš„æ–¹æ³•ï¼Œä¾‹å¦‚ list.append() ã€‚ä½ å¯ä»¥åœ¨ Python çš„ list æ–‡æ¡£ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚ https://docs.python.org/3/library/stdtypes.html#list

- dict ä¹Ÿæ˜¯ Python ä¸­çš„ä¸€ä¸ªç±»ã€‚ä½ å¯ä»¥åœ¨ Python çš„ dict æ–‡æ¡£ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚ https://docs.python.org/3/library/stdtypes.html#dict

---

## ç±»æ–¹æ³•
**`@classmethod`** ä½œç”¨äºâ€œç±»æœ¬èº«â€ï¼Œå¯ä½œ**å¤‡ç”¨æ„é€ å™¨**ï¼š
- æœ‰æ—¶ï¼Œæˆ‘ä»¬æƒ³å‘ç±»æœ¬èº«æ·»åŠ åŠŸèƒ½ï¼Œè€Œä¸æ˜¯å‘è¯¥ç±»çš„å®ä¾‹æ·»åŠ åŠŸèƒ½ã€‚
- @classmethod æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥ä¸ºæ•´ä¸ªç±»æ·»åŠ åŠŸèƒ½ã€‚
  

- ä¸‹é¢æ˜¯ä¸€ä¸ªä¸ä½¿ç”¨ç±»æ–¹æ³•çš„ç¤ºä¾‹ã€‚åœ¨ç»ˆç«¯çª—å£ä¸­ï¼Œè¾“å…¥ code hat.py å¹¶æ‰§è¡Œå¦‚ä¸‹ä»£ç ï¼š
```python
import random


class Hat:
    def __init__(self):
        self.houses = ["Gryffindor", "Hufflepuff", "Ravenclaw", "Slytherin"]

    def sort(self, name):
        print(name, "is in", random.choice(self.houses))


hat = Hat()
hat.sort("Harry")
```
- æ³¨æ„ï¼Œå½“æˆ‘ä»¬å°†å­¦ç”Ÿçš„åå­—ä¼ é€’ç»™åˆ†é™¢å¸½æ—¶ï¼Œå®ƒä¼šå‘Šè¯‰æˆ‘ä»¬å­¦ç”Ÿè¢«åˆ†é…åˆ°å“ªä¸ªå­¦é™¢ã€‚æ³¨æ„ï¼Œ hat = Hat() å®ä¾‹åŒ–äº†ä¸€ä¸ª hat ã€‚ sort åŠŸèƒ½å§‹ç»ˆç”± Hat ç±»çš„å®ä¾‹å¤„ç†ã€‚é€šè¿‡æ‰§è¡Œ hat.sort("Harry") ï¼Œæˆ‘ä»¬å°†å­¦ç”Ÿçš„åå­—ä¼ é€’ç»™äº† Hat ç±»å®ä¾‹çš„ sort æ–¹æ³•ï¼Œæˆ‘ä»¬å°†å…¶å‘½åä¸º hat ã€‚


- ä¸è¿‡ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³åœ¨ä¸åˆ›å»ºåˆ†é™¢å¸½å®ä¾‹çš„æƒ…å†µä¸‹è¿è¡Œ sort å‡½æ•°ï¼ˆæ¯•ç«Ÿåªæœ‰ä¸€ä¸ªï¼ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š
```py
import random
class Hat:
    houses = ["Gryffindor","Hufflepuff","Ravenclaw","Slytherin"]
    @classmethod
    def sort(cls, name):
        print(name, "is in", random.choice(cls.houses))
Hat.sort("Harry")
```
- æ³¨æ„ __init__ æ–¹æ³•è¢«ç§»é™¤äº†ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦åœ¨ä»£ç çš„ä»»ä½•åœ°æ–¹å®ä¾‹åŒ–ä¸€ä¸ª hatã€‚å› æ­¤ï¼Œ self ä¸å†é‡è¦ï¼Œå› æ­¤è¢«ç§»é™¤äº†ã€‚æˆ‘ä»¬å°†æ­¤ sort æŒ‡å®šä¸º @classmethod ï¼Œå°† self æ›¿æ¢ä¸º cls ã€‚æœ€åï¼Œè¯·æ³¨æ„ï¼Œåœ¨ä»£ç æœ«å°¾ï¼Œ Hat æŒ‰ç…§æƒ¯ä¾‹è¢«å¤§å†™ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬ç±»çš„åç§°ã€‚


- å›åˆ° students.py æˆ‘ä»¬å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼ä¿®æ”¹ä»£ç ï¼Œè§£å†³ä¸€äº›ä¸ @classmethod ç›¸å…³çš„é”™è¿‡çš„æœºä¼šï¼š
```py
class Student:
    ...
    @classmethod
    def get(cls):
        return cls(input("Name: "), input("House: "))
```
- æ³¨æ„ï¼Œ get_student å·²è¢«ç§»é™¤ï¼Œå¹¶åˆ›å»ºäº†ä¸€ä¸ªåä¸º get çš„ @classmethod ã€‚ç°åœ¨æ— éœ€å…ˆåˆ›å»ºå­¦ç”Ÿå³å¯è°ƒç”¨æ­¤æ–¹æ³•ã€‚


---

## é™æ€æ–¹æ³•
**`@staticmethod`**ï¼šä¸å®ä¾‹ã€ç±»çŠ¶æ€éƒ½æ— å…³çš„å·¥å…·å‡½æ•°ï¼Œæ”¾åˆ°ç±»å‘½åç©ºé—´ä¸­ã€‚

---

## ç»§æ‰¿
- ç»§æ‰¿ä¹Ÿè®¸æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹æœ€å¼ºå¤§çš„ç‰¹æ€§ã€‚
- ç¢°å·§çš„æ˜¯ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªä»å¦ä¸€ä¸ªç±»â€œç»§æ‰¿â€æ–¹æ³•ã€å˜é‡å’Œå±æ€§çš„ç±»ã€‚
```py
class Wizard:
    def __init__(self, name):
        if not name: raise ValueError("Missing name")
        self.name = name

class Student(Wizard):
    def __init__(self, name, house):
        super().__init__(name)
        self.house = house

class Professor(Wizard):
    def __init__(self, name, subject):
        super().__init__(name)
        self.subject = subject
```
- è¯·æ³¨æ„ï¼Œä¸Šé¢æœ‰ä¸€ä¸ªåä¸º Wizard ç±»å’Œä¸€ä¸ªåä¸º Student ç±»ã€‚æ­¤å¤–ï¼Œè¯·æ³¨æ„ï¼Œè¿˜æœ‰ä¸€ä¸ªåä¸º Professor ç±»ã€‚å­¦ç”Ÿå’Œæ•™æˆéƒ½æœ‰åå­—ã€‚è€Œä¸”ï¼Œä»–ä»¬éƒ½æ˜¯å·«å¸ˆã€‚å› æ­¤ï¼Œ Student å’Œ Professor éƒ½ç»§æ‰¿äº† Wizard çš„ç‰¹å¾ã€‚åœ¨â€œå­â€ç±» Student ä¸­ï¼Œ Student å¯ä»¥ä»â€œçˆ¶â€ç±»æˆ–â€œè¶…â€ç±» Wizard ç»§æ‰¿ï¼Œå› ä¸º super().\__init__(name) è¿™è¡Œä»£ç è¿è¡Œäº† Wizard çš„ init æ–¹æ³•ã€‚æœ€åï¼Œè¯·æ³¨æ„ï¼Œè¿™æ®µä»£ç çš„æœ€åå‡ è¡Œåˆ›å»ºäº†ä¸€ä¸ªåä¸º Albus çš„å·«å¸ˆã€ä¸€ä¸ªåä¸º Harry çš„å­¦ç”Ÿç­‰ç­‰ã€‚


---

## ç»§æ‰¿ä¸å¼‚å¸¸å±‚çº§
- å¼‚å¸¸æ˜¯**æ ‘å½¢ç»“æ„**ï¼›æ•è·çˆ¶ç±»å¯ç»Ÿä¸€å¤„ç†å­ç±»ï¼ˆå¦‚ `Exception` æ•è· `ValueError` ç­‰ï¼‰ã€‚
```
  BaseException
 +-- KeyboardInterrupt
 +-- Exception
      +-- ArithmeticError
      |    +-- ZeroDivisionError
      +-- AssertionError
      +-- AttributeError
      +-- EOFError
      +-- ImportError
      |    +-- ModuleNotFoundError
      +-- LookupError
      |    +-- KeyError
      +-- NameError
      +-- SyntaxError
      |    +-- IndentationError
      +-- ValueError
 ...
 ```
- æ‚¨å¯ä»¥åœ¨ Python çš„å¼‚å¸¸æ–‡æ¡£ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚ https://docs.python.org/3/library/exceptions.html
---

## è¿ç®—ç¬¦é‡è½½
ä¸€äº›è¿ç®—ç¬¦ï¼ˆä¾‹å¦‚ + å’Œ - å¯ä»¥â€œé‡è½½â€ï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥å…·æœ‰è¶…å‡ºç®€å•ç®—æœ¯çš„æ›´å¤šåŠŸèƒ½ã€‚
```py
class Vault:
    def __init__(self, galleons=0, sickles=0, knuts=0):
        self.galleons = galleons
        self.sickles = sickles
        self.knuts = knuts

    def __str__(self):
        return f"{self.galleons} Galleons, {self.sickles} Sickles, {self.knuts} Knuts"

    def __add__(self, other):
        galleons = self.galleons + other.galleons
        sickles = self.sickles + other.sickles
        knuts = self.knuts + other.knuts
        return Vault(galleons, sickles, knuts)


potter = Vault(100, 50, 25)
print(potter)

weasley = Vault(25, 50, 100)
print(weasley)

total = potter + weasley
print(total)
```
- æ³¨æ„ __str__ æ–¹æ³•å¦‚ä½• self ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ã€‚æ­¤å¤–ï¼Œè¯·æ³¨æ„ __add__ æ–¹æ³•å¦‚ä½•å…è®¸å°†ä¸¤ä¸ª vault çš„å€¼ç›¸åŠ ã€‚self æ˜¯ + æ“ä½œæ•°å·¦ä¾§çš„å€¼ã€‚other æ˜¯ + æ“ä½œæ•°å³ä¾§çš„ other ã€‚
- æ‚¨å¯ä»¥åœ¨ Python çš„è¿ç®—ç¬¦é‡è½½æ–‡æ¡£ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚ https://docs.python.org/3/reference/datamodel.html#special-method-names
---

## æ€»ç»“
- <mark>æ ¸å¿ƒèƒ½åŠ›ï¼š</mark> **OOPã€ç±»ã€`raise`ã€`@property`ã€ç±»/é™æ€æ–¹æ³•ã€ç»§æ‰¿ã€è¿ç®—ç¬¦é‡è½½**ã€‚  
- **å®è·µå»ºè®®ï¼š** å°†æ ¡éªŒæ”¶æ•›åˆ°ç±»å†…éƒ¨ï¼›ç”¨å±æ€§æš´éœ²å®‰å…¨çŠ¶æ€ï¼›ä¿æŒä¸å˜å¼æ¸…æ™°ï¼›é€‚åº¦é‡è½½è¿ç®—ç¬¦ã€‚
```
é¢å‘å¯¹è±¡ç¼–ç¨‹
ç±»
æŠ›å‡ºraise
ç±»æ–¹æ³•
é™æ€æ–¹æ³•
ç»§æ‰¿
è¿ç®—ç¬¦é‡è½½
```